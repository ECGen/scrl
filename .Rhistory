library(rmarkdown)
render("scrl_report.Rmd")
ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
isp
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp <- isp[order(isp[, "p.value"]), ]
isp
head(isp)
ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp
kable
kable(isp)
isp.names <- as.character(na.omit(rownames(isp[isp[, "p.value"] < 0.05, ])))
isp.com <- com[,colnames(com) %in% isp.names]
isp.dif <- apply(isp.com, 2, function(x,y) tapply(x, y, diff), y = l.dat[ ,"Tree.pairs"])
isp.dif
kable(isp)
ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp.all <- isp[, apply(isp, 2, function(x) any(is.na(x)))]
isp <- isp[order(isp[, "p.value"]), ]
kable(isp.all)
apply(isp, 2, function(x) any(is.na(x)))
isp.all <- isp[, !(apply(isp, 2, function(x) all(is.na(x))))]
isp.all
ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp.all <- isp[, !(apply(isp, 2, function(x) all(is.na(x))))]
isp <- isp[order(isp[, "p.value"]), ]

isp.all
kable(isp.all)
isp.all <- isp.all[, c(1, 2, 3, 6, 4, 5)]
isp.all
ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp.all <- isp[, !(apply(isp, 2, function(x) all(is.na(x))))]
isp <- isp[order(isp[, "p.value"]), ]

ind.spp <- lapply(com, function(x, p) t.test(tapply(x, p, diff)), p = l.dat[, "Tree.pairs"])
isp <- apply(do.call(rbind, lapply(ind.spp, unlist)), 2, as.numeric)
rownames(isp) <- names(ind.spp)
isp[, "p.value"] <- p.adjust(isp[, "p.value"], method = "fdr")
isp.all <- isp[, !(apply(isp, 2, function(x) all(is.na(x))))]
isp <- isp[order(isp[, "p.value"]), ]


c
colnames(com)
com[, "Brown.cr"]
?kable
write.csv(isp.all, file = "results/isp_table.csv")
write.csv(round(isp.all, 5), file = "results/scrl_isp_table.csv")
render("scrl_report.Rmd")
q()
n
